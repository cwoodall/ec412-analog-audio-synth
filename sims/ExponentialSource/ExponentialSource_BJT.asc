Version 4
SHEET 1 1524 724
WIRE 32 48 -32 48
WIRE 336 48 32 48
WIRE 336 64 336 48
WIRE -32 112 -32 48
WIRE 336 160 336 144
WIRE -32 208 -32 192
WIRE -32 208 -416 208
WIRE 272 208 208 208
WIRE -32 240 -32 208
WIRE 128 240 128 208
WIRE -272 288 -272 256
WIRE 336 288 336 256
WIRE 400 288 336 288
WIRE 432 288 400 288
WIRE -192 304 -192 256
WIRE -176 304 -192 304
WIRE -96 304 -96 288
WIRE 192 304 192 288
WIRE 272 304 192 304
WIRE -608 320 -608 304
WIRE -192 320 -192 304
WIRE 192 320 192 304
WIRE 336 320 336 288
WIRE -608 336 -608 320
WIRE -32 368 -32 336
WIRE 0 368 -32 368
WIRE 128 368 128 336
WIRE 128 368 0 368
WIRE 144 384 -96 384
WIRE -96 400 -96 384
WIRE -96 400 -192 400
WIRE 0 400 0 368
WIRE -272 416 -272 368
WIRE 336 416 336 400
WIRE -96 432 -368 432
WIRE 192 448 192 400
WIRE -608 464 -608 416
WIRE -160 464 -192 464
WIRE -128 464 -160 464
WIRE -192 480 -192 464
WIRE 144 480 144 384
WIRE 272 480 272 304
WIRE 272 480 144 480
WIRE -416 496 -416 208
WIRE -368 496 -416 496
WIRE -224 496 -368 496
WIRE 336 496 336 480
WIRE -96 512 -96 432
WIRE -96 512 -160 512
WIRE 0 512 0 480
WIRE 0 512 -96 512
WIRE -224 528 -272 528
WIRE -272 560 -272 528
WIRE -192 560 -192 544
WIRE 336 592 336 560
WIRE -272 672 -272 640
FLAG -272 416 0
FLAG -192 560 0
FLAG -608 320 VCC
FLAG -608 464 0
FLAG 32 48 VCC
FLAG -160 464 VCC
FLAG -272 672 0
FLAG 192 448 0
FLAG 336 592 0
FLAG 400 288 Vout
SYMBOL npn -96 240 R0
SYMATTR InstName Q1
SYMATTR Value 2N3904
SYMBOL npn 192 240 M0
SYMATTR InstName Q2
SYMATTR Value 2N3904
SYMBOL voltage -272 272 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
WINDOW 0 -55 16 Left 2
WINDOW 3 24 96 Invisible 2
SYMATTR InstName V2
SYMATTR Value PWL(0 8 10ms 1)
SYMBOL res -48 96 R0
SYMATTR InstName R1
SYMATTR Value 1000k
SYMBOL Opamps\\opamp2 -192 448 R0
SYMATTR InstName U1
SYMATTR Value LM358
SYMBOL res -16 384 R0
SYMATTR InstName R6
SYMATTR Value 1k
SYMBOL voltage -608 320 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V3
SYMATTR Value 9
SYMBOL res -176 240 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 100k
SYMBOL res -208 304 R0
SYMATTR InstName R9
SYMATTR Value 1.5k
SYMBOL res -80 288 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R10
SYMATTR Value 1k
SYMBOL pnp 272 256 M180
SYMATTR InstName Q5
SYMATTR Value 2N3906
SYMBOL res 320 304 R0
SYMATTR InstName R18
SYMATTR Value 1k
SYMBOL res 320 48 R0
SYMATTR InstName R19
SYMATTR Value 10
SYMBOL res 224 192 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 1k
SYMBOL cap -384 432 R0
SYMATTR InstName C3
SYMATTR Value 100pF
SYMBOL voltage -272 544 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V1
SYMATTR Value 4.5
SYMBOL voltage 192 304 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V4
SYMATTR Value 4.5
SYMBOL diode 320 416 R0
SYMATTR InstName D1
SYMBOL diode 320 496 R0
SYMATTR InstName D2
TEXT -208 600 Left 2 !.tran 10ms
TEXT 64 672 Left 2 !.lib LM358.sub
